<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taller Interactivo: Manejo Asertivo de Emociones para la Depresión Crónica</title>

    <!-- Inclusión de bibliotecas externas para estilos y gráficos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide-react@0.372.0/dist/lucide-react.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Estilos personalizados para el diseño del taller -->
    <style>
        /* Estilos para el contenedor de citas inspiradoras */
        .quote-container {
            text-align: center;
            margin: 20px auto;
            max-width: 600px;
            padding: 20px;
            background-color: #f0f4f8;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Estilos para el texto de las citas */
        .quote-text {
            font-style: italic;
            font-size: 1.3em;
            line-height: 1.5;
            color: #333;
            margin-bottom: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Estilos para el autor de las citas */
        .quote-author {
            text-align: right;
            font-size: 0.9em;
            color: #555;
            margin-top: 15px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Fuente principal del cuerpo del documento */
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Importación de la fuente Inter desde Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        /* Oculta las secciones de contenido por defecto */
        .content-section {
            display: none;
        }

        /* Muestra la sección activa */
        .content-section.active {
            display: block;
        }

        /* Estilos para los enlaces de navegación */
        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            font-weight: 500;
        }

        /* Efecto hover para los enlaces de navegación */
        .nav-link:hover {
            background-color: #e2e8f0;
        }

        /* Estilos para el enlace de navegación activo */
        .nav-link.active {
            background-color: #3b82f6;
            color: white;
            font-weight: 600;
        }

        /* Color de los íconos SVG en el enlace activo */
        .nav-link.active svg {
            stroke: white;
        }

        /* Estilos para las tarjetas de actividades */
        .activity-card {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05);
        }

        /* Estilos para los botones principales */
        .btn-primary {
            background-color: #3b82f6;
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        /* Efecto hover para los botones principales */
        .btn-primary:hover {
            background-color: #2563eb;
        }

        /* Estilos para las cajas de retroalimentación */
        .feedback-box {
            margin-top: 1rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            border-width: 1px;
        }

        /* Estilos para retroalimentación correcta */
        .feedback-correct {
            background-color: #dcfce7;
            color: #166534;
            border-color: #86efac;
        }

        /* Estilos para retroalimentación incorrecta */
        .feedback-incorrect {
            background-color: #fee2e2;
            color: #991b1b;
            border-color: #fca5a5;
        }

        /* Estilos para la caja de advertencia */
        .disclaimer-box {
            background-color: #fefce8;
            border: 1px solid #fde047;
            color: #854d0e;
            padding: 1rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
        }

        /* Estilos para el contenedor del gráfico */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 250px;
            height: auto;
            margin-left: auto;
            margin-right: auto;
        }

        /* Estilos para los grupos de formularios */
        .form-group {
            margin-bottom: 1rem;
        }

        /* Estilos para las etiquetas de los formularios */
        .form-group label {
            display: block;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        /* Estilos para los campos de entrada de formularios */
        .form-group input[type="text"],
        .form-group input[type="datetime-local"],
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            color: #1e293b;
        }

        /* Estilos para los campos de texto multilínea */
        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* Estilos para el control deslizante */
        .form-group input[type="range"] {
            width: 100%;
            margin-top: 0.5rem;
        }

        /* Estilos para el valor del control deslizante */
        #intensity-value {
            font-weight: 600;
            color: #3b82f6;
            margin-left: 0.5rem;
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800">
    <div class="flex h-screen bg-slate-100">
        <!-- Barra lateral de navegación -->
        <aside id="sidebar"
            class="bg-white w-64 p-4 flex-shrink-0 border-r border-slate-200 fixed lg:relative h-full lg:h-auto -translate-x-full lg:translate-x-0 transition-transform duration-300 z-20">
            <!-- Encabezado de la barra lateral -->
            <div class="flex items-center gap-3 mb-8">
                <div class="bg-blue-500 p-2 rounded-lg">
                    <i class="fas fa-graduation-cap text-white"></i>
                </div>
                <h1 class="text-xl font-bold text-slate-800">Taller Psicología</h1>
            </div>
            <!-- Menú de navegación -->
            <nav class="space-y-2">
                <a class="nav-link active" data-target="home">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                        <polyline points="9 22 9 12 15 12 15 22" />
                    </svg>
                    Inicio
                </a>
                <a class="nav-link" data-target="module1">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M15.5 8.5c.3-1.8.3-3.7 0-5.5" />
                        <path d="M12 16.5c-2.3 0-4.4-.8-6-2.5" />
                        <path d="M8.5 8.5c-.3-1.8-.3-3.7 0-5.5" />
                        <path d="M12 2.5c2.3 0 4.4.8 6 2.5" />
                        <path d="M14.5 13.5c.3-1.8.3-3.7 0-5.5" />
                        <path d="M9.5 13.5c-.3-1.8-.3-3.7 0-5.5" />
                        <path d="M12 20.5c-2.3 0-4.4-.8-6-2.5" />
                        <path d="M12 2.5c-2.3 0-4.4.8-6 2.5" />
                        <circle cx="12" cy="12" r="10" />
                    </svg>
                    Módulo 1: Conciencia
                </a>
                <a class="nav-link" data-target="module2">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M12 12 2 6l10-4 10 4-10 6Z" />
                        <path d="M2 18V6" />
                        <path d="m22 18-10-6" />
                        <path d="m12 22-10-6" />
                    </svg>
                    Módulo 2: Asertividad
                </a>
                <a class="nav-link" data-target="module3">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                        <polyline points="14 2 14 8 20 8" />
                        <path d="m10 10.5 2 2 2-2" />
                        <path d="m10 16.5 2-2 2 2" />
                    </svg>
                    Módulo 3: Afrontamiento
                </a>
                <a class="nav-link" data-target="module4">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                        <circle cx="9" cy="7" r="4" />
                        <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                    </svg>
                    Módulo 4: Comunicación
                </a>
                <a class="nav-link" data-target="module5">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M12 2a10 10 0 0 0-10 10c0 5 4 9 9 10 1 0 2-.3 3-1 3-2 5-6 4-10a10 10 0 0 0-6-9Z" />
                        <path d="M12 6v6l4 2" />
                    </svg>
                    Módulo 5: Resiliencia
                </a>
                <a class="nav-link" data-target="module6">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path
                            d="M12 3v1m7 7h-1m-1 7-2-2m-7-7H5m1-7 2 2m10 10 2 2M3 12h1m7-7v1m7 7h-1m-1 7-2-2m-7-7H5m1 7 2 2" />
                        <circle cx="12" cy="12" r="10" />
                    </svg>
                    Módulo 6: Conclusión
                </a>
                <a class="nav-link" data-target="resources">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
                        <circle cx="12" cy="10" r="3" />
                    </svg>
                    Recursos de Ayuda
                </a>
                <a class="nav-link" data-target="references">
                    <svg class="mr-3" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z" />
                        <line x1="4" y1="22" x2="4" y2="15" />
                    </svg>
                    Referencias
                </a>
            </nav>
        </aside>

        <!-- Contenido principal -->
        <main class="flex-1 p-6 lg:p-10 overflow-y-auto h-screen">
            <!-- Encabezado para dispositivos móviles -->
            <div class="lg:hidden flex items-center justify-between mb-6">
                <button id="menu-btn" class="p-2 rounded-md hover:bg-slate-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="4" x2="20" y1="12" y2="12" />
                        <line x1="4" x2="20" y1="6" y2="6" />
                        <line x1="4" x2="20" y1="18" y2="18" />
                    </svg>
                </button>
                <h1 class="text-lg font-bold">Taller Psicología</h1>
            </div>

            <!-- Sección de inicio -->
            <section id="home" class="content-section active">
                <h2 class="text-3xl lg:text-4xl font-extrabold text-slate-800 mb-4">Bienvenidos al Taller de Manejo
                    Asertivo de Emociones para la Depresión Crónica</h2>
                <p class="text-lg text-slate-600 mb-6 leading-relaxed">Este es un espacio seguro y práctico para
                    aprender a gestionar tus emociones y comunicarte de manera más efectiva, especialmente al enfrentar
                    los desafíos de la depresión crónica.</p>

                <!-- Caja de advertencia sobre el propósito del taller -->
                <div class="disclaimer-box">
                    <h3 class="font-bold text-lg mb-2">Importante: Esto no es una Terapia</h3>
                    <p class="text-sm">Este taller es una herramienta educativa de apoyo y no sustituye la consulta,
                        diagnóstico o tratamiento con un profesional de la salud mental cualificado. Si te encuentras en
                        una crisis, por favor contacta a los servicios de emergencia o a una línea de ayuda (ver sección
                        "Recursos de Ayuda").</p>
                </div>
                <!-- Cita inspiradora -->
                <div class="quote-container">
                    <p class="quote-text">
                        "La depresión no es una señal de debilidad, sino una indicación de que has sido fuerte durante
                        <br>demasiado tiempo."
                    </p>
                    <p class="quote-author">
                        - Anónimo
                    </p>
                </div>
                <!-- Contenido introductorio y gráfico -->
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-xl font-bold text-slate-700 mb-3">El Desafío de la Depresión Crónica</h3>
                        <p class="text-slate-600 mb-4">El Trastorno Depresivo Persistente afecta a una parte
                            significativa de la población, impactando la energía, la autoestima y las relaciones.
                            Aprender a ser asertivo es una habilidad clave que puede romper ciclos negativos y mejorar
                            la calidad de vida.</p>
                        <p class="text-slate-600">Este taller te guiará a través de técnicas basadas en la Terapia
                            Cognitivo-Conductual (TCC) y la Terapia Dialéctico-Conductual (DBT) para que construyas
                            resiliencia y te sientas más en control.</p>
                        <br>
                        <p class="text-slate-600 mb-4">Aprenderás a identificar tus emociones, comprender sus causas,
                            desarrollar estrategias saludables de afrontamiento y construir una relación más compasiva
                            contigo mismo/a.</p>
                    </div>
                    <div class="text-center">
                        <!-- Contenedor del gráfico de prevalencia -->
                        <div class="chart-container">
                            <canvas id="prevalenceChart"></canvas>
                        </div>
                        <p class="mt-4 text-sm text-slate-500 font-medium">Se estima que la depresión crónica afecta
                            aproximadamente al 5% de la población adulta a nivel global.</p>
                    </div>
                </div>
                <!-- Botón para iniciar el taller -->
                <div class="text-center mt-10">
                    <button class="btn-primary text-lg" onclick="navigateTo('module1')">Comenzar el Taller →</button>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg hidden" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg hidden" onclick="navigateNext()">Siguiente
                        →</button>
                </div>
            </section>

            <!-- Sección del Módulo 1 -->
            <section id="module1" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Módulo 1: Reconocimiento y Conciencia Emocional
                </h2>
                <p class="text-lg text-slate-600 mb-8">El primer paso es entender qué sientes y por qué. Este módulo te
                    ayudará a conectar con tus emociones sin juicio.</p>

                <!-- Actividad: Mapa Emocional -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Actividad: Mi Mapa Emocional</h3>
                    <p class="text-slate-600 mb-4">Usa esta herramienta para identificar una emoción reciente. Esto te
                        ayudará a ver los patrones en tus respuestas emocionales.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="emotion-input" class="block text-sm font-medium text-slate-700 mb-1">1. ¿Qué
                                emoción sentiste?</label>
                            <input type="text" id="emotion-input" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Ej: Tristeza, frustración, ansiedad...">
                        </div>
                        <div>
                            <label for="trigger-input" class="block text-sm font-medium text-slate-700 mb-1">2. ¿Qué
                                crees que la desencadenó?</label>
                            <textarea id="trigger-input" rows="2" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Ej: Un comentario, un recuerdo, sentirme cansado..."></textarea>
                        </div>
                        <div>
                            <label for="response-input" class="block text-sm font-medium text-slate-700 mb-1">3. ¿Cómo
                                reaccionaste?</label>
                            <textarea id="response-input" rows="2" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Ej: Me aislé, discutí, lo ignoré..."></textarea>
                        </div>
                        <p class="text-xs text-slate-500 italic">Tus respuestas no se guardan. Este es un ejercicio
                            personal de reflexión.</p>
                    </div>
                </div>

                <!-- Actividad: Práctica de Mindfulness -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Práctica de Mindfulness: Anclaje en el Presente
                    </h3>
                    <p class="text-slate-600 mb-4">Cuando los pensamientos abruman, la técnica de los 5 sentidos te trae
                        de vuelta al momento presente. Es una forma simple y poderosa de calmar la mente.</p>
                    <div class="space-y-3">
                        <p><strong class="text-blue-600">5</strong> cosas que puedas <strong
                                class="text-blue-600">VER</strong> a tu alrededor.</p>
                        <p><strong class="text-green-600">4</strong> cosas que puedas <strong
                                class="text-green-600">SENTIR</strong> (la silla, tu ropa, la mesa).</p>
                        <p><strong class="text-purple-600">3</strong> cosas que puedas <strong
                                class="text-purple-600">OÍR</strong> (el silencio, tu respiración, un sonido lejano).
                        </p>
                        <p><strong class="text-orange-600">2</strong> cosas que puedas <strong
                                class="text-orange-600">OLER</strong> (el aire, un perfume, tu café).</p>
                        <p><strong class="text-red-600">1</strong> cosa que puedas <strong
                                class="text-red-600">SABOREAR</strong> (el sabor que queda en tu boca, un sorbo de
                            agua).</p>
                    </div>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateNext()">Siguiente →</button>
                </div>
            </section>

            <!-- Sección del Módulo 2 -->
            <section id="module2" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Módulo 2: Desarrollando la Asertividad Personal
                </h2>
                <p class="text-lg text-slate-600 mb-8">La asertividad es expresar tus necesidades y opiniones
                    respetándote a ti y a los demás. Aquí aprenderás las herramientas para lograrlo.</p>

                <!-- Explicación sobre la asertividad emocional -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">¿Qué es la Asertividad Emocional?</h3>
                    <p class="text-slate-600 mb-4">Es la habilidad de expresar tus emociones y necesidades de manera
                        clara, directa y respetuosa, sin ser pasivo ni agresivo. Ser asertivo significa valorar tus
                        propios sentimientos y, al mismo tiempo, considerar los de los demás.</p>
                    <div class="grid md:grid-cols-3 gap-4 text-center">
                        <div class="p-4 bg-red-100 rounded-lg">
                            <h4 class="font-bold text-red-800">Estilo Pasivo</h4>
                            <p class="text-sm text-red-700">No expresas tus necesidades. Evitas el conflicto a toda
                                costa.</p>
                        </div>
                        <div class="p-4 bg-yellow-100 rounded-lg">
                            <h4 class="font-bold text-yellow-800">Estilo Agresivo</h4>
                            <p class="text-sm text-yellow-700">Impones tus necesidades sin respetar a los demás.</p>
                        </div>
                        <div class="p-4 bg-green-100 rounded-lg">
                            <h4 class="font-bold text-green-800">Estilo Asertivo</h4>
                            <p class="text-sm text-green-700">Expresas tus necesidades con respeto y confianza.</p>
                        </div>
                    </div>
                </div>

                <!-- Actividad: Escenario de Rol -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Actividad: Escenario de Rol</h3>
                    <p class="text-slate-600 mb-4">Un amigo te pide un favor grande que te tomará todo el fin de semana,
                        pero tú ya te sentías agotado y necesitabas descansar. ¿Cuál es la respuesta asertiva?</p>
                    <div class="space-y-2">
                        <button class="w-full text-left p-3 border rounded-md hover:bg-slate-100"
                            onclick="checkAssertiveness(false, 'feedback-roleplay', 'pasiva')">A) "Sí, claro, no te
                            preocupes. Ya veré cómo me las arreglo para descansar."</button>
                        <button class="w-full text-left p-3 border rounded-md hover:bg-slate-100"
                            onclick="checkAssertiveness(true, 'feedback-roleplay')">B) "Te agradezco que pienses en mí,
                            pero este fin de semana necesito recargar energías y no podré ayudarte. Espero que lo
                            entiendas."</button>
                        <button class="w-full text-left p-3 border rounded-md hover:bg-slate-100"
                            onclick="checkAssertiveness(false, 'feedback-roleplay', 'agresiva')">C) "¿Otra vez pidiendo
                            favores? No, no puedo, estoy harto de que no consideres mi tiempo."</button>
                    </div>
                    <div id="feedback-roleplay" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Herramienta: Constructor de Mensajes Yo -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Herramienta: Constructor de "Mensajes Yo"</h3>
                    <p class="text-slate-600 mb-4">Usa esta fórmula para expresar tus sentimientos sin culpar,
                        facilitando que la otra persona te escuche. Completa las partes para construir tu mensaje.</p>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700">Cuando tú...</label>
                            <input type="text" id="yo-cuando" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="(describe la acción específica)">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">Yo me siento...</label>
                            <input type="text" id="yo-siento" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="(describe tu emoción)">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">Porque...</label>
                            <input type="text" id="yo-porque" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="(explica el impacto en ti)">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">Y me gustaría...</label>
                            <input type="text" id="yo-gustaria" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="(propón una solución o pide un cambio)">
                        </div>
                        <button class="btn-primary" onclick="buildIMessage()">Generar mi Mensaje Yo</button>
                        <div id="i-message-result"
                            class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800 font-medium"
                            style="display: none;"></div>
                    </div>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateNext()">Siguiente →</button>
                </div>
            </section>

            <!-- Sección del Módulo 3 -->
            <section id="module3" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Módulo 3: Estrategias de Regulación Emocional
                </h2>
                <p class="text-lg text-slate-600 mb-8">Aprende a manejar pensamientos negativos y a incorporar
                    actividades que te nutran, incluso cuando no tengas ganas.</p>

                <!-- Actividad: Desafío de Pensamientos Negativos -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Actividad: Desafío de Pensamientos Negativos</h3>
                    <p class="text-slate-600 mb-4">Los pensamientos no son hechos. Usa esta guía para cuestionar un
                        pensamiento negativo que te esté molestando.</p>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700">1. Escribe el pensamiento
                                negativo:</label>
                            <input type="text" id="neg-thought" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Ej: 'Nunca hago nada bien'">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">2. ¿Qué evidencia tienes de que este
                                pensamiento es 100% verdad siempre?</label>
                            <textarea rows="2" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Busca pruebas que lo contradigan..."></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">3. ¿Cuál es una forma más
                                equilibrada y realista de ver la situación?</label>
                            <textarea id="balanced-thought-input" rows="2"
                                class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Ej: 'A veces cometo errores, pero también he tenido éxitos.'"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Herramienta: Planificador de Actividades Gratificantes -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Herramienta: Planificador de Actividades
                        Gratificantes</h3>
                    <p class="text-slate-600 mb-4">La activación conductual rompe el ciclo de inactividad. Añade una
                        pequeña actividad que podrías hacer hoy o mañana, sin importar cuán simple sea.</p>
                    <div class="flex gap-2">
                        <input type="text" id="activity-input" class="flex-grow p-2 border border-slate-300 rounded-md"
                            placeholder="Ej: Caminar 10 min, escuchar una canción">
                        <button class="btn-primary" onclick="addActivity()">Añadir</button>
                    </div>
                    <ul id="activity-list" class="mt-4 space-y-2"></ul>
                </div>

                <!-- Práctica: Afirmación Positiva -->
                <div class="activity-card text-center">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Práctica: Afirmación Positiva</h3>
                    <p class="text-slate-600 mb-4">Las afirmaciones ayudan a cultivar la autocompasión. Lee la siguiente
                        y tómate un momento para sentirla.</p>
                    <div id="affirmation-box"
                        class="p-4 bg-green-50 border-l-4 border-green-400 text-green-800 text-lg font-semibold mb-4">
                        Mi bienestar es una prioridad.
                    </div>
                    <button class="btn-primary" onclick="generateAffirmation()">Nueva Afirmación</button>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateNext()">Siguiente →</button>
                </div>
            </section>

            <!-- Sección del Módulo 4 -->
            <section id="module4" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Módulo 4: Comunicación Asertiva en Relaciones
                </h2>
                <p class="text-lg text-slate-600 mb-8">Aplica tus habilidades asertivas para mejorar tus relaciones,
                    resolver conflictos y establecer límites saludables.</p>

                <!-- Herramienta: Creador de Guion Asertivo -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Herramienta: Creador de Guion Asertivo</h3>
                    <p class="text-slate-600 mb-4">A veces, las conversaciones difíciles necesitan preparación. Usa esta
                        guía para estructurar lo que quieres decir.</p>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700">1. ¿Cuál es tu objetivo en esta
                                conversación?</label>
                            <input type="text" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Ej: Que se respete mi tiempo, expresar mi malestar...">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">2. Escribe tu "Mensaje Yo" de
                                apertura.</label>
                            <textarea rows="3" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Usa la fórmula del Módulo 2."></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">3. ¿Qué posible respuesta podrías
                                recibir y cómo responderías asertivamente?</label>
                            <textarea rows="3" class="w-full p-2 border border-slate-300 rounded-md"
                                placeholder="Anticipa y prepárate para mantener la calma."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Técnicas avanzadas de asertividad -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Técnicas Avanzadas de Asertividad</h3>
                    <p class="text-slate-600 mb-4">Estas técnicas son útiles cuando te enfrentas a insistencia o
                        manipulación.</p>
                    <ul class="space-y-3">
                        <li><strong>Disco Rayado:</strong> Repetir tu punto de vista con calma y firmeza, una y otra
                            vez. <em class="text-slate-500">"No, gracias." ... "Como te decía, no, gracias."</em></li>
                        <li><strong>Acuerdo Asertivo:</strong> Aceptar la parte de verdad en una crítica sin aceptar
                            toda la culpa. <em class="text-slate-500">"Es verdad que llegué tarde, pero eso no significa
                                que sea irresponsable."</em></li>
                        <li><strong>Aplazamiento Asertivo:</strong> Pedir tiempo para pensar antes de dar una respuesta.
                            <em class="text-slate-500">"Necesito pensarlo. Te respondo mañana."</em>
                        </li>
                    </ul>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateNext()">Siguiente →</button>
                </div>
            </section>

            <!-- Sección del Módulo 5 -->
            <section id="module5" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Módulo 5: Crecimiento Personal y Resiliencia
                </h2>
                <p class="text-lg text-slate-600 mb-8">Este módulo te ayudará a consolidar tus aprendizajes y a crear un
                    plan sostenible para manejar tus emociones a largo plazo.</p>

                <!-- Formulario para el diario emocional -->
                <div class="activity-card emotion-journal">
                    <h3 class="text-xl font-bold text-slate-700 mb-3"><i class="fas fa-book mr-2"></i>Diario Emocional
                    </h3>
                    <p class="text-slate-600 mb-4">Registrar tus emociones es un poderoso ejercicio de autoconocimiento.
                        Llena este formulario cuando sientas emociones intensas:</p>

                    <div class="form-group">
                        <label for="emotion-date">Fecha y Hora:</label>
                        <input type="datetime-local" id="emotion-date">
                    </div>

                    <div class="form-group">
                        <label for="emotion">Emoción Principal:</label>
                        <select id="emotion">
                            <option value="">Selecciona una emoción...</option>
                            <option value="tristeza">Tristeza</option>
                            <option value="ansiedad">Ansiedad</option>
                            <option value="ira">Ira</option>
                            <option value="desesperanza">Desesperanza</option>
                            <option value="culpa">Culpa</option>
                            <option value="otra">Otra</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="intensity">Intensidad (1-10):</label>
                        <input type="range" id="intensity" min="1" max="10" value="5">
                        <span id="intensity-value">5</span>
                    </div>

                    <div class="form-group">
                        <label for="thoughts">Pensamientos Asociados:</label>
                        <textarea id="thoughts" placeholder="¿Qué pensamientos acompañaron esta emoción?"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="response">Respuesta Asertiva:</label>
                        <textarea id="response"
                            placeholder="¿Cómo puedes responder de manera asertiva a esta emoción?"></textarea>
                    </div>

                    <button class="btn-primary" onclick="saveJournalEntry()">Guardar Entrada</button>
                    <div id="journal-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Formulario para el plan de acción personal -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3"><i class="fas fa-hands-helping mr-2"></i>Plan de
                        Acción Personal</h3>
                    <p class="text-slate-600 mb-4">Crea tu propio plan de manejo emocional para situaciones difíciles:
                    </p>

                    <div class="form-group">
                        <label>Señales de alerta (¿Qué indicadores te avisan que tu estado emocional está
                            empeorando?)</label>
                        <textarea
                            placeholder="Ejemplo: Aislamiento social, pensamientos catastróficos, cambios en el sueño..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Estrategias de afrontamiento (¿Qué acciones saludables puedes implementar?)</label>
                        <textarea
                            placeholder="Ejemplo: Practicar respiración profunda, contactar a un amigo, escribir en mi diario..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Red de apoyo (¿Quiénes pueden ayudarte en momentos difíciles?)</label>
                        <textarea placeholder="Nombre, relación y contacto de personas de confianza..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Actividades de autocuidado (¿Qué actividades te nutren emocionalmente?)</label>
                        <textarea placeholder="Ejemplo: Caminar en la naturaleza, escuchar música, leer..."></textarea>
                    </div>

                    <button class="btn-primary" onclick="saveActionPlan()">Guardar Plan</button>
                    <div id="plan-feedback" class="feedback-box" style="display: none;"></div>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateNext()">Siguiente →</button>
                </div>
            </section>

            <!-- Sección del Módulo 6 -->
            <section id="module6" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Módulo 6: Conclusión</h2>
                <p class="text-lg text-slate-600 mb-8">Has llegado al final de este taller, un viaje hacia el manejo
                    asertivo de tus emociones y el fortalecimiento de tu resiliencia. A lo largo de los módulos, has
                    aprendido a reconocer tus emociones, desarrollar la asertividad, regular tus pensamientos, mejorar
                    tus relaciones y crear un plan personal de bienestar.</p>

                <!-- Reflexión final -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Reflexión Final</h3>
                    <p class="text-slate-600 mb-4">Tómate un momento para revisar lo que has descubierto sobre ti
                        mismo/a. El cambio no ocurre de la noche a la mañana, pero cada paso que das es un avance.
                        Continúa practicando las técnicas aprendidas y ajusta tu plan de acción según tus necesidades.
                    </p>
                    <!-- Cita inspiradora -->
                    <div class="quote-container">
                        <p class="quote-text">
                            "El crecimiento personal es un proceso continuo, y cada pequeño esfuerzo cuenta hacia una
                            vida más equilibrada."
                        </p>
                        <p class="quote-author">
                            - Anónimo
                        </p>
                    </div>
                </div>

                <!-- Recomendaciones para próximos pasos -->
                <div class="activity-card">
                    <h3 class="text-xl font-bold text-slate-700 mb-3">Próximos Pasos</h3>
                    <p class="text-slate-600 mb-4">Te recomendamos mantener un diario emocional, revisar tu plan de
                        acción regularmente y buscar apoyo profesional si lo necesitas. El bienestar emocional es un
                        compromiso a largo plazo, y estás mejor equipado/a para enfrentarlo.</p>
                    <ul class="list-disc pl-5 space-y-2 text-slate-600">
                        <li>Practica las afirmaciones y técnicas de mindfulness diariamente.</li>
                        <li>Conecta con tu red de apoyo cuando te sientas abrumado/a.</li>
                        <li>Consulta los recursos de ayuda si necesitas asistencia adicional.</li>
                    </ul>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateTo('resources')">Siguiente
                        →</button>
                </div>
            </section>

            <!-- Sección de Recursos de Ayuda -->
            <section id="resources" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Recursos de Ayuda y Líneas de Crisis</h2>
                <p class="text-lg text-slate-600 mb-8">No estás solo/a. Si necesitas hablar con alguien o estás en
                    crisis, estos recursos están disponibles para ti.</p>

                <!-- Advertencia para emergencias -->
                <div class="disclaimer-box border-red-400 bg-red-50 text-red-800">
                    <h3 class="font-bold text-lg mb-2">En caso de emergencia</h3>
                    <p class="text-sm">Si tú o alguien que conoces está en peligro inmediato, llama al número de
                        emergencias de tu localidad (ej. 911).</p>
                </div>

                <!-- Listado de líneas de crisis -->
                <div class="space-y-6">
                    <div class="bg-white p-4 rounded-lg shadow-sm">
                        <h3 class="font-bold text-lg text-blue-700">Líneas de Prevención del Suicidio y Crisis</h3>
                        <ul class="mt-2 space-y-3 divide-y divide-slate-100">
                            <li class="pt-3"><strong>Línea 988 (EE. UU.):</strong> Llama o envía un texto al 988. Apoyo
                                24/7. <a href="tel:988" class="text-blue-600 font-semibold">Llamar ahora</a></li>
                            <li class="pt-3"><strong>Línea 024 (España):</strong> Llama al 024. Atención a la conducta
                                suicida 24/7. <a href="tel:024" class="text-blue-600 font-semibold">Llamar ahora</a>
                            </li>
                            <li class="pt-3"><strong>Línea de Asistencia en Salud Mental MSP (Ecuador):</strong> Llama
                                al 171 opción 6, 7:00 a 20:00. <a href="tel:171" class="text-blue-600 font-semibold">Llamar ahora</a>
                            </li>
                        </ul>
                    </div>
                    <!-- Listado de organizaciones de apoyo -->
                    <div class="bg-white p-4 rounded-lg shadow-sm">
                        <h3 class="font-bold text-lg text-blue-700">Organizaciones de Apoyo en Salud Mental</h3>
                        <ul class="mt-2 space-y-3 divide-y divide-slate-100">
                            <li class="pt-3"><strong>Bienestar Universitario Ucuenca:</strong> Escribe un mail al correo
                                del bienestar universitario de la universidad. <a
                                    href="mailto:bienestar.universitario@ucuenca.edu.ec?Subject=Necesito%20atención%20psicológica"
                                    target="_blank" class="text-blue-600 font-semibold">Buscar ayuda</a></li>
                            <li class="pt-3"><strong>NAMI (Alianza Nacional sobre Enfermedades Mentales):</strong>
                                Ofrece grupos de apoyo y recursos. <a href="https://www.nami.org/Home" target="_blank"
                                    class="text-blue-600 font-semibold">Visitar sitio</a></li>
                            <li class="pt-3"><strong>SAMHSA (Servicios de Abuso de Sustancias y Salud Mental):</strong>
                                Línea de ayuda y localizador de tratamientos. <a
                                    href="https://www.samhsa.gov/find-help/national-helpline" target="_blank"
                                    class="text-blue-600 font-semibold">Visitar sitio</a></li>
                            <li class="pt-3"><strong>Psychology Today:</strong> Directorio para encontrar terapeutas en
                                tu zona. <a href="https://www.psychologytoday.com/us/therapists" target="_blank"
                                    class="text-blue-600 font-semibold">Buscar terapeuta</a></li>
                        </ul>
                    </div>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg" onclick="navigateNext()">Siguiente →</button>
                </div>
            </section>

            <!-- Sección de Referencias -->
            <section id="references" class="content-section">
                <h2 class="text-3xl font-extrabold text-slate-800 mb-2">Referencias</h2>
                <p class="text-lg text-slate-600 mb-8">Las siguientes fuentes científicas y académicas respaldan la
                    información y técnicas presentadas en este taller.</p>
                <!-- Lista de referencias bibliográficas -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <ol class="list-decimal pl-6 space-y-4 text-slate-700">
                        <li>American Psychiatric Association. (2022). <i>Diagnostic and statistical manual of mental
                                disorders</i> (5th ed., text rev.). <a
                                href="https://www.psychiatry.org/psychiatrists/practice/dsm" target="_blank"
                                class="text-blue-600 hover:underline">https://www.psychiatry.org/psychiatrists/practice/dsm</a>
                        </li>
                        <li>Beck, J. S. (2020). <i>Cognitive behavior therapy: Basics and beyond</i> (3rd ed.). Guilford
                            Press. <a
                                href="https://www.guilford.com/books/Cognitive-Behavior-Therapy/Judith-Beck/9781462544196"
                                target="_blank"
                                class="text-blue-600 hover:underline">https://www.guilford.com/books/Cognitive-Behavior-Therapy/Judith-Beck/9781462544196</a>
                        </li>
                        <li>Kabat-Zinn, J. (2013). <i>Full catastrophe living: Using the wisdom of your body and mind to
                                face stress, pain, and illness</i> (Revised ed.). Bantam Books. <a
                                href="https://www.penguinrandomhouse.com/books/169793/full-catastrophe-living-revised-edition-by-jon-kabat-zinn-phd/"
                                target="_blank"
                                class="text-blue-600 hover:underline">https://www.penguinrandomhouse.com/books/169793/full-catastrophe-living-revised-edition-by-jon-kabat-zinn-phd/</a>
                        </li>
                        <li>Linehan, M. M. (2014). <i>DBT skills training manual</i> (2nd ed.). Guilford Press. <a
                                href="https://www.guilford.com/books/DBT-Skills-Training-Manual/Marsha-Linehan/9781462516995"
                                target="_blank"
                                class="text-blue-600 hover:underline">https://www.guilford.com/books/DBT-Skills-Training-Manual/Marsha-Linehan/9781462516995</a>
                        </li>
                        <li>Patel, V., Chisholm, D., Parikh, R., Charlson, F. J., Degenhardt, L., Dua, T., ... &
                            Whiteford, H. (2016). Addressing the burden of mental, neurological, and substance use
                            disorders: Key messages from Disease Control Priorities, 3rd edition. <i>The Lancet</i>,
                            387(10028), 1672-1685. <a href="https://doi.org/10.1016/S0140-6736(15)00390-6"
                                target="_blank"
                                class="text-blue-600 hover:underline">https://doi.org/10.1016/S0140-6736(15)00390-6</a>
                        </li>
                        <li>Pennebaker, J. W., & Smyth, J. M. (2016). <i>Opening up by writing it down: How expressive
                                writing improves health and eases emotional pain</i> (3rd ed.). Guilford Press. <a
                                href="https://www.guilford.com/books/Opening-Up-by-Writing-It-Down/Pennebaker-Smyth/9781462524921"
                                target="_blank"
                                class="text-blue-600 hover:underline">https://www.guilford.com/books/Opening-Up-by-Writing-It-Down/Pennebaker-Smyth/9781462524921</a>
                        </li>
                        <li>World Health Organization. (2022). <i>Mental health atlas 2020</i>. <a
                                href="https://www.who.int/publications/i/item/9789240036703" target="_blank"
                                class="text-blue-600 hover:underline">https://www.who.int/publications/i/item/9789240036703</a>
                        </li>
                    </ol>
                </div>
                <!-- Controles de navegación -->
                <div class="flex justify-between mt-6">
                    <button id="prevBtn" class="btn-primary text-lg" onclick="navigatePrev()">← Anterior</button>
                    <button id="nextBtn" class="btn-primary text-lg hidden" onclick="navigateNext()">Siguiente
                        →</button>
                </div>
            </section>

            <!-- Pie de página -->
            <footer
                style="background-color: #3A3F47; color: white; padding: 20px; text-align: center; border-radius: 15px; margin-top: 30px; width: calc(100% - 64px); margin-left: 64px;">
                <p style="margin: 5px 0; font-size: 16px;">
                    Taller Interactivo: Manejo Asertivo de Emociones para la Depresión Crónica
                </p>
                <p style="margin: 5px 0; font-size: 15px;">
                    Material creado por: Saywa Guaillas, Carolina Guerrero, Javier Revelo, Ariana Tinoco.
                </p>
                <p style="margin: 5px 0; font-size: 14px;">
                    © 2025 - Carrera de Medicina
                </p>
            </footer>
        </main>
    </div>

    <!-- Scripts para la funcionalidad interactiva -->
    <script>
        // Inicialización al cargar el documento
        document.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const menuBtn = document.getElementById('menu-btn');
            const sidebar = document.getElementById('sidebar');
            const intensitySlider = document.getElementById('intensity');
            const intensityValue = document.getElementById('intensity-value');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            // Actualiza el valor del control deslizante de intensidad
            if (intensitySlider && intensityValue) {
                intensitySlider.addEventListener('input', () => {
                    intensityValue.textContent = intensitySlider.value;
                });
            }

            // Función para mostrar una sección específica
            function showSection(targetId) {
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(targetId).classList.add('active');

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.target === targetId) {
                        link.classList.add('active');
                    }
                });

                // Actualiza la visibilidad de los botones de navegación
                const sectionIds = ['home', 'module1', 'module2', 'module3', 'module4', 'module5', 'module6', 'resources', 'references'];
                const currentIndex = sectionIds.indexOf(targetId);
                prevBtn.classList.toggle('hidden', currentIndex === 0);
                nextBtn.classList.toggle('hidden', currentIndex === sectionIds.length - 1 || currentIndex === 0);
                if (currentIndex === sectionIds.length - 2) {
                    nextBtn.textContent = 'Explorar Recursos de Ayuda →';
                } else {
                    nextBtn.textContent = 'Siguiente →';
                }

                sidebar.classList.add('-translate-x-full');
            }

            // Función global para navegar entre secciones
            window.navigateTo = function (targetId) {
                showSection(targetId);
                document.querySelector('main').scrollTop = 0;
            };

            // Función para navegar a la sección anterior
            window.navigatePrev = function () {
                const sectionIds = ['home', 'module1', 'module2', 'module3', 'module4', 'module5', 'module6', 'resources', 'references'];
                const currentIndex = sectionIds.indexOf(document.querySelector('.content-section.active').id);
                if (currentIndex > 0) {
                    navigateTo(sectionIds[currentIndex - 1]);
                }
            };

            // Función para navegar a la sección siguiente
            window.navigateNext = function () {
                const sectionIds = ['home', 'module1', 'module2', 'module3', 'module4', 'module5', 'module6', 'resources', 'references'];
                const currentIndex = sectionIds.indexOf(document.querySelector('.content-section.active').id);
                if (currentIndex < sectionIds.length - 1) {
                    navigateTo(sectionIds[currentIndex + 1]);
                }
            };

            // Evento para los enlaces de navegación
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    const targetId = link.dataset.target;
                    showSection(targetId);
                });
            });

            // Evento para mostrar/ocultar la barra lateral en móviles
            menuBtn.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            // Cierra la barra lateral al hacer clic fuera de ella
            document.querySelector('main').addEventListener('click', (e) => {
                if (!sidebar.contains(e.target) && !menuBtn.contains(e.target) && !sidebar.classList.contains('-translate-x-full')) {
                    sidebar.classList.add('-translate-x-full');
                }
            });

            // Configuración del gráfico de prevalencia
            const ctx = document.getElementById('prevalenceChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Afectados por Depresión Crónica', 'Resto de la Población'],
                    datasets: [{
                        data: [5, 95],
                        backgroundColor: [
                            '#3b82f6',
                            '#e5e7eb'
                        ],
                        borderColor: [
                            '#ffffff',
                            '#ffffff'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    return context.label + ': ' + context.raw + '%';
                                }
                            }
                        }
                    }
                }
            });
        });

        // Función para verificar respuestas asertivas
        function checkAssertiveness(isCorrect, feedbackId, type = 'correct') {
            const feedbackEl = document.getElementById(feedbackId);
            feedbackEl.style.display = 'block';
            feedbackEl.classList.remove('feedback-correct', 'feedback-incorrect');

            if (isCorrect) {
                feedbackEl.classList.add('feedback-correct');
                feedbackEl.textContent = '¡Excelente! Esta es una respuesta asertiva. Expresas tu necesidad con respeto y honestidad.';
            } else {
                feedbackEl.classList.add('feedback-incorrect');
                if (type === 'pasiva') {
                    feedbackEl.textContent = 'Esta es una respuesta pasiva. Ignoras tus propias necesidades para complacer a otro, lo que puede generar resentimiento.';
                } else {
                    feedbackEl.textContent = 'Esta es una respuesta agresiva. Aunque expresas tu necesidad, lo haces de forma hostil, dañando la relación.';
                }
            }
        }

        // Función para construir mensajes "Yo"
        function buildIMessage() {
            const cuando = document.getElementById('yo-cuando').value;
            const siento = document.getElementById('yo-siento').value;
            const porque = document.getElementById('yo-porque').value;
            const gustaria = document.getElementById('yo-gustaria').value;
            const resultBox = document.getElementById('i-message-result');

            if (cuando && siento && porque && gustaria) {
                resultBox.innerHTML = `<strong>Tu mensaje:</strong> "Cuando ${cuando}, yo me siento ${siento} porque ${porque}, y me gustaría que ${gustaria}."`;
                resultBox.style.display = 'block';
            } else {
                resultBox.innerHTML = 'Por favor, completa todos los campos para generar el mensaje.';
                resultBox.style.display = 'block';
            }
        }

        // Función para añadir actividades gratificantes
        function addActivity() {
            const input = document.getElementById('activity-input');
            const list = document.getElementById('activity-list');
            const activityText = input.value.trim();

            if (activityText) {
                const li = document.createElement('li');
                li.className = 'bg-white p-3 rounded-md shadow-sm flex justify-between items-center';
                li.textContent = activityText;

                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'Hecho';
                deleteBtn.className = 'text-xs text-green-600 font-semibold hover:text-green-800';
                deleteBtn.onclick = function () {
                    li.classList.add('line-through', 'text-slate-400');
                    deleteBtn.remove();
                };

                li.appendChild(deleteBtn);
                list.appendChild(li);
                input.value = '';
            }
        }

        // Lista de afirmaciones positivas
        const affirmations = [
            "Soy capaz de manejar las emociones difíciles.",
            "Merezco sentirme tranquilo/a y en paz.",
            "Está bien establecer límites para proteger mi energía.",
            "Cada paso que doy hacia mi bienestar cuenta.",
            "Soy más fuerte de lo que creo.",
            "Tratarme con amabilidad es una prioridad.",
            "Mis sentimientos son válidos.",
            "Puedo superar los desafíos que se presenten.",
            "Soy digno/a de comprensión y cuidado, incluso en mis días más difíciles.",
            "Merezco tratarme con la misma amabilidad que ofrezco a los demás.",
            "Está bien permitirmi sentirme y descansar cuando lo necesito.",
            "Cada pequeño esfuerzo que hago es un acto de valentía.",
            "Soy más que mis pensamientos negativos; mi esencia es valiosa.",
            "Priorizar mi bienestar es un derecho, no una obligación.",
            "Mis emociones son válidas y merecen ser escuchadas con suavidad.",
            "Puedo avanzar a mi propio ritmo, y eso es suficiente."
        ];

        // Función para generar afirmaciones positivas aleatorias
        function generateAffirmation() {
            const affirmationBox = document.getElementById('affirmation-box');
            const randomIndex = Math.floor(Math.random() * affirmations.length);
            affirmationBox.textContent = affirmations[randomIndex];
        }

        // Función para guardar entradas en el diario emocional
        function saveJournalEntry() {
            const date = document.getElementById('emotion-date').value;
            const emotion = document.getElementById('emotion').value;
            const intensity = document.getElementById('intensity').value;
            const thoughts = document.getElementById('thoughts').value.trim();
            const response = document.getElementById('response').value.trim();
            const feedbackEl = document.getElementById('journal-feedback');

            feedbackEl.style.display = 'block';
            feedbackEl.classList.remove('feedback-correct', 'feedback-incorrect');

            if (date && emotion && intensity && thoughts && response) {
                feedbackEl.classList.add('feedback-correct');
                feedbackEl.textContent = '¡Entrada guardada con éxito! Reflexionar sobre tus emociones es un gran paso hacia el crecimiento personal.';
                document.getElementById('emotion-date').value = '';
                document.getElementById('emotion').value = '';
                document.getElementById('intensity').value = '5';
                document.getElementById('intensity-value').textContent = '5';
                document.getElementById('thoughts').value = '';
                document.getElementById('response').value = '';
            } else {
                feedbackEl.classList.add('feedback-incorrect');
                feedbackEl.textContent = 'Por favor, completa todos los campos antes de guardar la entrada.';
            }
        }

        // Función para guardar el plan de acción personal
        function saveActionPlan() {
            const signals = document.querySelector('textarea[placeholder*="Aislamiento social"]').value.trim();
            const strategies = document.querySelector('textarea[placeholder*="Practicar respiración"]').value.trim();
            const support = document.querySelector('textarea[placeholder*="Nombre, relación"]').value.trim();
            const selfCare = document.querySelector('textarea[placeholder*="Caminar en la naturaleza"]').value.trim();
            const feedbackEl = document.getElementById('plan-feedback');

            feedbackEl.style.display = 'block';
            feedbackEl.classList.remove('feedback-correct', 'feedback-incorrect');

            if (signals && strategies && support && selfCare) {
                feedbackEl.classList.add('feedback-correct');
                feedbackEl.textContent = '¡Plan guardado con éxito! Tener un plan claro te ayudará a enfrentar los desafíos emocionales.';
                document.querySelector('textarea[placeholder*="Aislamiento social"]').value = '';
                document.querySelector('textarea[placeholder*="Practicar respiración"]').value = '';
                document.querySelector('textarea[placeholder*="Nombre, relación"]').value = '';
                document.querySelector('textarea[placeholder*="Caminar en la naturaleza"]').value = '';
            } else {
                feedbackEl.classList.add('feedback-incorrect');
                feedbackEl.textContent = 'Por favor, completa todos los campos antes de guardar el plan.';
            }
        }
    </script>
</body>

</html>
